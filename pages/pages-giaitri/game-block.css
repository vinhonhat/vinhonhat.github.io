/* --- cơ bản --- */
:root{
  --bg:#0b0b0b;
  --panel:#111;
  --accent:#f39c12;
  --btn:#2d2d2d;
  --btn-text:#fff;
}

html,body { height:100%; margin:0; padding:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; }

/* Khi ở trang game ta có thể tắt cuộn trên thiết bị cảm ứng bằng script (body.noscroll) */
body.noscroll { overflow:hidden; touch-action:none; }

/* Main game layout */
.game-page {
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:12px;
  padding:12px;
  background: linear-gradient(180deg,#FBF7F0,#f7f1e6);
}

/* HUD (score/level + top buttons) */
.hud {
  width:100%;
  max-width:980px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  padding:4px 8px;
}
.hud #score, .hud #level { color:#333; font-weight:600; }
.hud-btn {
  background:var(--btn);
  color:var(--btn-text);
  border:none;
  border-radius:8px;
  padding:8px;
  margin-left:6px;
  cursor:pointer;
}

/* Game wrap + canvas */
.game-wrap {
  width:100%;
  max-width:980px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  background:transparent;
}

/* Canvas responsive (keeps aspect ratio like tall handheld) */
#game-canvas {
  background:var(--bg);
  border-radius:8px;
  border:4px solid #444;
  display:block;
  width:320px;   /* default on small devices, JS will resize to pixel ratio & grid */
  height:640px;
  touch-action: none; /* prevent scroll while swiping on canvas */
}

/* Mobile controls area (touch devices) */
.mobile-controls {
  display:none; /* default hidden for pointer: fine devices */
  width:100%;
  max-width:360px;
  margin-top:10px;
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:10px;
  align-items:center;
  justify-items:center;
}

.mobile-controls .left-area,
.mobile-controls .center-area,
.mobile-controls .right-area { display:flex; gap:10px; align-items:center; justify-content:center; }

.big-btn {
  background:var(--btn);
  color:var(--btn-text);
  border:none;
  border-radius:12px;
  width:78px;
  height:78px;
  font-size:28px;
  touch-action: manipulation;
  user-select:none;
}

.big-btn.small { width:60px; height:60px; font-size:20px; }

.bottom-row {
  grid-column: 1 / -1;
  display:flex;
  gap:10px;
  justify-content:center;
  margin-top:6px;
}
.small-btn {
  padding:8px 12px;
  border-radius:8px;
  background:#333;
  color:#fff;
  border:none;
}

/* Overlay */
.overlay {
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.6);
  z-index:999;
}
.overlay.hidden { display:none; }
.overlay-box {
  background:white;
  color:#111;
  padding:20px;
  border-radius:12px;
  text-align:center;
  min-width:260px;
}

/* HIDE mobile controls on PC (cursor fine) */
@media (pointer: fine) {
  .mobile-controls { display:none !important; }
}

/* SHOW mobile controls on touch devices (JS will also add class) */
@media (pointer: coarse) {
  .mobile-controls { display:grid; }
  /* hide header/footer by site script - but safe fallback */
  #header-placeholder, #footer-placeholder { display:none !important; }
  #game-canvas { width:320px; height:640px; }
}

/* Landscape layout (toggle via body.landscape) */
body.landscape .game-wrap {
  flex-direction:row;
  align-items:center;
}
body.landscape #game-canvas {
  width:480px;
  height:360px;
}

/* PC desktop sizing */
@media (min-width:1024px) {
  #game-canvas { width:360px; height:720px; }
  .hud { max-width:1200px; }
}

/* small tablets */
@media (min-width:768px) and (max-width:1023px) {
  #game-canvas { width:360px; height:640px; }
}